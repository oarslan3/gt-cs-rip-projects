\documentclass{article}
% the code below is used to stretch the left and right margins
\usepackage[right=1.0in,left=1.0in]{geometry}
\usepackage{graphics}
\usepackage{graphicx}

\begin{document}
\title{Project 1\\{\large{Robot Intelligence: Planning 8803 \textbf{``RIP"}}}}
\author{Philip Rogers, Alex Cunningham, Oktay Arslan}
\maketitle

\paragraph{2.) Pre-Project: Towers of Hanoi}
\begin{enumerate}
\item{\textit{Explain the method by which each of the two planners finds a solution.\\}}
The Fast-Forward (FF) planner works by combining HSP with a heuristic using GraphPlan. Following the HSP method, the FF planner grows the state space while ignoring delete lists.  A difference between HSP and FF is that the heuristic used in FF is based on a relaxed version of GraphPlan, which is a more informed heuristic than HSP because it takes into account positive interactions.  An example of this is given in \cite{hoffmann2001fast}, where the naive heuristic does not consider a single precondition being shared between two actions, whereas GraphPlan considers it and produces a lower (more informed) heuristic value.


The Blackbox planner also uses GraphPlan, but in a very different way than FF.  Blackbox uses GraphPlan (especially Mutex constraint propagation) to generate a boolean satisfiability problem, which Blackbox then uses SAT solvers to solve.  This is clear from the output of Blackbox, which shows how it works: first GraphPlan is used to generate a SAT problem, then a SAT solver is used to determine the feasibility.

\item{\textit{Which planner was fastest?\\}}
We used two planners:Fast-Forward (FF), and Blackbox.\\
FF is clearly the fastest planner, with two of its variants (Metric-FF and Contingent-FF) taking less than 0.01s to generate a plan for the 3-disk Hanoi problem.  The Blackbox planner was considerabally slower, taking 0.032s when using the Chaff solver, and taking 0.10s when using the SatPlan solver.  All four generated the same plan, which was 7 steps.

\item{\textit{Explain why the winning planner might be more effective on this problem.\\}}
The heuristic used by FF appears to be particularly useful in this small Hanoi problem, because positive effects are frequent when dealing with only 3 plates.  Dr. Hoffman mentions this in \cite{hoffmann2001fast} when he notes that the heuristics of FF are good for many benchmark planning problems, such as Hanoi.  
\end{enumerate}

\paragraph{3.) Project Part I: Sokoban PDDL}
\begin{enumerate}
\item{\textit{Show successful plans from at least one planner on the Sokoban problems.\\}}
We tried each of the Sokoban problems with the two planners, with each of the planner variations.  It should be noted that a solution was not always reached, and for the harder problems some of the planners were killed manually to prevent the system from running out of memory.  Due to size of the plans generated for the later problems, the results in the form of raw logs are in a separate file.  Here are sample plans for each of the problems:
\begin{enumerate}
\item{\emph{Problem 1 - Plan Produced by BlackBox with Default Options}
\begin{verbatim}
Begin plan
1 (move-down player p3 p5)
2 (move-right player p5 p6)
3 (move-right player p6 p7)
4 (move-down player p7 p11)
5 (move-block-left player a p11 p10 p9)
6 (move-up player p10 p6)
7 (move-left player p6 p5)
8 (move-left player p5 p4)
9 (move-down player p4 p8)
10 (move-down player p8 p12)
11 (move-right player p12 p13)
12 (move-block-up player a p13 p9 p5)
13 (move-block-up player a p9 p5 p3)
14 (move-block-up player a p5 p3 p2)
End plan
\end{verbatim}
}
\item{\emph{Problem 2 - This problem is reported by all solvers (computer and human) as being impossible}}
\item{\emph{Problem 3 - Plan Produced by FF with Default Options - See SolverPlans.txt}}
\item{\emph{Problem 4 - Plan Produced by FF with Default Options - See SolverPlans.txt}}
\end{enumerate}
\item{\textit{Compare the performance of two planners on this domain. Which one works better? Does this make sense, why?\\}
The performance of the planners is numerically described in the table below:
\begin{center}
\begin{table}[h!]
\begin{tabular*}{1.0\textwidth}{@{\extracolsep{\fill}}| l | c | c | c | c |}
\hline
\multicolumn{5}{| c |}{Planner stats for Sokoban problems} \\ \hline
& FF (default) & Contingent FF & BlackBox (default)  & BlackBox (chaff) \\ \hline
Problem 1 Time (ms) &  0.00 & 0.00 & 381 & 309 \\ \hline
Problem 1 Plan Length (steps) &  14 & 14 & 14 & 14 \\ \hline
Problem 2 Time (ms) &  - & - & 1077 & 1088 \\ \hline
Problem 2 Plan Length (steps) &  - & - & - & - \\ \hline
Problem 3 Time (ms) &  40 & - & - & - \\ \hline
Problem 3 Plan Length (steps) &  105 & - & - & - \\ \hline
Problem 4 Time (ms) &  1230 & - & - & - \\ \hline
Problem 5 Plan Length (steps) &  79 & - & - & - \\ \hline
\end{tabular*}
\caption{Statistics for the planners solving PDDL Sokoban.}
\label{PlannerStats}
\end{table}
\end{center}
It should be noted that because Problem 2 is not solvable, the FF variants did not report a time for completion.  For Problems 3 and 4, there were no solutions generated by any planner other than FF, at least in the time given.  These planners start using very large amounts of memory and will quickly stall a computer if left to run too long without finding a solution.  

The fact that FF works better than BlackBox's SAT-based solver is probably due to the translation of this particular problem into satisfiability space increases the complexity and dimensionality of the problem.  From the previous results of the simple Towers of Hanoi puzzle, it appears that the implementation of FF used is generally faster than BlackBox at solving problems.  One observation to note is that an earlier version of the PDDL domain used implemented move commands with \emph{move} and \emph{move-block} actions with an OR statement in the preconditions.  FF was able to both parse and execute using this version of the domain (though it was unable to solve problems 3 and 4), while BlackBox could not run.  The final version of the domain used separate \emph{move} commands for each direction, which produced much faster results in FF, and worked with BlackBox.  This would seem to indicate that more complex preconditions for actions (and the move commands had a large number of preconditions) pose a larger challenge for BlackBox than for FF, likely due to the conversion to SAT format that BlackBox needs, rather than using a direct heuristic.  This result also mimics the most recent results for the international planning competition, with the version of FF used placing second behind a derivative of FF and BlackBox not in the top spots.  
}
\item{\textit{Clearly PDDL was not intended for this sort of application. Discuss the challenges in expressing geometric constraints in semantic planning.\\}
The major difficulty in expressing geometry with PDDL is that all of the relationships between cells need to be explicitly described, which can be rather tedious as the size of the puzzle increases. The domain used manages to keep the links in rows and columns relatively concise, but certain intuitive concepts like adjacency that are easy to express in geometric spaces are more complicated to express in PDDL.  The frame problem also presents an issue here, as each cell in the grid needs to have an explicit property of having a block or not so that obstacles can be detected.  In order to move a block, the property of having a block needs to be updated from the block's start to the end pose, and the block object itself needs to be moved so that an \emph{at} predicate can evaluate a specific block's location.  While it is possible to create the necessary relationships between cells and evaluate those relationships to ensure that the player and the blocks can move in the environement, it seems overly complicated to express even a grid world by manually constructing what are geometrically intuitive constraints.  
}
\item{\textit{In many cases, geometric and dynamic planning are insufficient to describe a domain. Give an example of a problem that is best suited for sematic (classical) planning. Explain why a semantic representation would be desirable.\\}
The basic split between when one planning representation is more useful is a rather straightforward one: domains with intuitive geometric constraints (such as the positions of objects in a grid or continuous space) are ones where geometric representations are most useful.  In non-geometric cases, semantic representations are effective.  One previously used example of a case where semantic planning is more reasonable is in the simple case of Towers of Hanoi.  In this case, the rules governing the system are arbitrary constraints that could be described more as "rules of a game" than as intuitive representations of reality.  The geometry of the disks on the pegs is largely irrelevant, (e.g., the distance between the pegs and the relative position of pegs has no bearing on how moves can be made), as the problem has been abstracted away from the geometric constraints.  In this abstract space of largely arbitrary rules acting on abstract objects, semantic planning is really the only effective and robust representation method.  This is in contrast to geometric space, where basic concepts of moving objects and obstacle avoidance are based out of a representation of a very physical system.  
}
\end{enumerate}

\paragraph{4.) Project Part II: Sokoban Planner}

[Description of our planner]

\begin{center}
\begin{table}[h!]
\begin{tabular*}{1.0\textwidth}{@{\extracolsep{\fill}}| l | c | c | c | c |}
\hline
\multicolumn{5}{| c |}{Planner stats for Sokoban problems} \\ \hline
& Problem 1 & Problem 2 & Problem 3  & Problem 4 \\ \hline
Computation time (ms) &  1 & 2 & 3 & 1 \\ \hline
\# of steps & 4 & 5 & 6 & 1\\ \hline
\# of states explored & 7 & 8 & 9 & 1\\
\hline
\end{tabular*}
\caption{Statistics for our Sokoban planner.}
\label{PlannerStats}
\end{table}
\end{center}

\begin{enumerate}
\item{\textit{Give successful plans from your planner on the Sokoban problems in Figure 2 and any others.\\}}
\item{\textit{Compare the performance of your planner to the PDDL planners you used in the previous problem. Which was faster? Why?\\}}
\item{\textit{Prove that your planner was complete. Your instructor has a math background: a proof ``is a convincing argument." Make sure you address each aspect of completeness and why your planner satisfies it. Pictures are always welcome.\\}}
\item{\textit{What methods did you use to speed up the planning? Give a short description of each method and explain why it did or didnâ€™t help on each relevant problem.\\}}
\end{enumerate}

\paragraph{5.) Post-Project: Towers of Hanoi Revisited}

\begin{enumerate}
\item{\textit{Give successful plans from at least one planner with 6 and 10 disks.\\}}
\item{\textit{Do you notice anything about the structure of the plans? Can you use this to increase the efficiency of planning for Towers of Hanoi? Explain.\\}}
\item{\textit{In a paragraph or two, explain a general planning strategy that would take advantage of problem structure. Make sure your strategy applies to problems other than Towers of Hanoi. Would such a planner still be complete?\\}}
\end{enumerate}

\bibliographystyle{plain}
\bibliography{project1}
\end{document}